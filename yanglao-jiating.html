<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家庭财务规划计算器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }
        .input-field { transition: all 0.2s; }
        .input-field:focus { transform: scale(1.02); }
        .progress-bar { transition: width 1s ease-in-out; }
        .tab-active { border-bottom: 2px solid #667eea; color: #667eea; }
        .number-animate { transition: all 0.5s ease; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold mb-2">家庭财务规划计算器</h1>
                    <p class="text-blue-100">全面分析家庭财务需求，制定最优规划方案</p>
                </div>
                <div class="hidden md:block text-right">
                    <div class="text-sm opacity-80">当前日期</div>
                    <div class="text-xl font-semibold" id="currentDate"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4">
            <div class="flex space-x-8 overflow-x-auto">
                <button onclick="switchTab('basic')" class="tab-btn tab-active py-4 px-2 font-medium whitespace-nowrap" data-tab="basic">基础信息</button>
                <button onclick="switchTab('pension')" class="tab-btn py-4 px-2 font-medium text-gray-600 whitespace-nowrap" data-tab="pension">养老规划</button>
                <button onclick="switchTab('education')" class="tab-btn py-4 px-2 font-medium text-gray-600 whitespace-nowrap" data-tab="education">教育规划</button>
                <button onclick="switchTab('income')" class="tab-btn py-4 px-2 font-medium text-gray-600 whitespace-nowrap" data-tab="income">收入分析</button>
                <button onclick="switchTab('investment')" class="tab-btn py-4 px-2 font-medium text-gray-600 whitespace-nowrap" data-tab="investment">投资方案</button>
                <button onclick="switchTab('dashboard')" class="tab-btn py-4 px-2 font-medium text-gray-600 whitespace-nowrap" data-tab="dashboard">财务总览</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <!-- 基础信息输入模块 -->
        <section id="basic" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- 主要收入者信息 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover">
                    <h2 class="text-xl font-bold mb-4 flex items-center text-gray-800">
                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2 text-blue-600">1</span>
                        主要收入者信息
                    </h2>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">当前年龄</label>
                                <input type="number" id="primaryAge" value="35" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="calculateAll()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">计划退休年龄</label>
                                <input type="number" id="retireAge" value="60" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="calculateAll()">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">当前月工资（元）</label>
                            <input type="number" id="monthlySalary" value="15000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="calculateAll()">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">预期年收入增长率（%）</label>
                            <input type="number" id="salaryGrowth" value="5" step="0.5" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="calculateAll()">
                        </div>
                    </div>
                </div>

                <!-- 家庭成员信息 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover">
                    <h2 class="text-xl font-bold mb-4 flex items-center text-gray-800">
                        <span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2 text-green-600">2</span>
                        家庭成员信息
                    </h2>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4">
                            <label class="flex items-center">
                                <input type="checkbox" id="hasSpouse" class="w-4 h-4 text-blue-600 rounded" onchange="toggleSpouse(); calculateAll()">
                                <span class="ml-2 text-gray-700">有配偶</span>
                            </label>
                        </div>
                        <div id="spouseInfo" class="hidden grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">配偶年龄</label>
                                <input type="number" id="spouseAge" value="33" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">配偶月工资（元）</label>
                                <input type="number" id="spouseSalary" value="10000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">子女数量</label>
                            <select id="childrenCount" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" onchange="updateChildrenInputs(); calculateAll()">
                                <option value="0">0个</option>
                                <option value="1" selected>1个</option>
                                <option value="2">2个</option>
                                <option value="3">3个</option>
                            </select>
                        </div>
                        <div id="childrenAges" class="grid grid-cols-2 gap-2">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">子女1年龄</label>
                                <input type="number" id="childAge1" value="5" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">需赡养老人数量</label>
                            <input type="number" id="elderlyCount" value="2" min="0" max="4" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                        </div>
                    </div>
                </div>

                <!-- 当前财务状况 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover lg:col-span-2">
                    <h2 class="text-xl font-bold mb-4 flex items-center text-gray-800">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-2 text-purple-600">3</span>
                        当前财务状况
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">现有储蓄（万元）</label>
                            <input type="number" id="currentSavings" value="50" step="0.1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" onchange="calculateAll()">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">现有投资（万元）</label>
                            <input type="number" id="currentInvestment" value="30" step="0.1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" onchange="calculateAll()">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">社保缴纳基数（元）</label>
                            <input type="number" id="socialSecurityBase" value="12000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" onchange="calculateAll()">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">已缴纳社保年限</label>
                            <input type="number" id="socialSecurityYears" value="10" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" onchange="calculateAll()">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 养老规划模块 -->
        <section id="pension" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">养老金计算参数</h2>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">预期退休后每月生活费（元，现值）</label>
                                <input type="number" id="retirementMonthlyExpense" value="8000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">预期寿命</label>
                                <input type="number" id="lifeExpectancy" value="85" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-blue-900 mb-2">社保养老金预测</h3>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-600">预计月领取养老金：</span>
                                    <span class="font-bold text-blue-600 text-lg" id="estimatedPension">0</span> 元
                                </div>
                                <div>
                                    <span class="text-gray-600">替代率：</span>
                                    <span class="font-bold text-blue-600" id="replacementRate">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">养老金缺口分析</h2>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                <span class="text-gray-700">退休时需积累总额</span>
                                <span class="text-2xl font-bold text-gray-900" id="totalPensionNeeded">0</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-blue-50 rounded-lg">
                                <span class="text-blue-900">社保养老金现值</span>
                                <span class="text-2xl font-bold text-blue-600" id="socialSecurityValue">0</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg border-2 border-red-200">
                                <span class="text-red-900 font-semibold">养老金缺口</span>
                                <span class="text-3xl font-bold text-red-600" id="pensionGap">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="font-bold mb-4 text-gray-800">养老金积累进度</h3>
                    <canvas id="pensionChart"></canvas>
                    <div class="mt-4 space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">当前进度</span>
                            <span class="font-bold" id="pensionProgress">0%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="progress-bar bg-blue-600 h-2 rounded-full" id="pensionProgressBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 教育规划模块 -->
        <section id="education" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">教育费用规划</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">教育费用年增长率（%）</label>
                            <input type="number" id="educationInflation" value="6" step="0.5" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-2 text-left">教育阶段</th>
                                        <th class="px-4 py-2 text-right">年费用（万元）</th>
                                        <th class="px-4 py-2 text-right">年限</th>
                                    </tr>
                                </thead>
                                <tbody id="educationTableBody">
                                    <tr>
                                        <td class="px-4 py-2">幼儿园</td>
                                        <td class="px-4 py-2"><input type="number" id="eduKindergarten" value="3" step="0.1" class="w-20 text-right border rounded" onchange="calculateAll()"></td>
                                        <td class="px-4 py-2 text-right">3年</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">小学</td>
                                        <td class="px-4 py-2"><input type="number" id="eduPrimary" value="2" step="0.1" class="w-20 text-right border rounded" onchange="calculateAll()"></td>
                                        <td class="px-4 py-2 text-right">6年</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">中学</td>
                                        <td class="px-4 py-2"><input type="number" id="eduMiddle" value="3" step="0.1" class="w-20 text-right border rounded" onchange="calculateAll()"></td>
                                        <td class="px-4 py-2 text-right">6年</td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-2">大学</td>
                                        <td class="px-4 py-2"><input type="number" id="eduCollege" value="5" step="0.1" class="w-20 text-right border rounded" onchange="calculateAll()"></td>
                                        <td class="px-4 py-2 text-right">4年</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">教育资金需求总览</h2>
                    <div id="educationSummary" class="space-y-4">
                        <!-- 动态生成每个子女的教育规划 -->
                    </div>
                    <div class="mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                        <div class="flex justify-between items-center">
                            <span class="font-semibold text-yellow-900">教育资金总需求</span>
                            <span class="text-2xl font-bold text-yellow-600" id="totalEducationCost">0</span>
                        </div>
                        <div class="mt-2 text-sm text-yellow-800">
                            每月需储备：<span id="monthlyEducationSaving" class="font-bold">0</span> 元
                        </div>
                    </div>
                    <canvas id="educationChart" class="mt-6"></canvas>
                </div>
            </div>
        </section>

        <!-- 收入分析模块 -->
        <section id="income" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">支出结构分析</h2>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">每月生活开支（元）</label>
                                <input type="number" id="monthlyLivingExpense" value="8000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">每月赡养老人支出（元）</label>
                                <input type="number" id="monthlyElderlyExpense" value="2000" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                            </div>
                        </div>
                        <div class="mt-6">
                            <canvas id="expenseChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4 text-gray-800">收入支出对比</h2>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                                <span class="text-green-900">家庭月总收入</span>
                                <span class="text-xl font-bold text-green-600" id="totalMonthlyIncome">0</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-red-50 rounded-lg">
                                <span class="text-red-900">家庭月总支出</span>
                                <span class="text-xl font-bold text-red-600" id="totalMonthlyExpense">0</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                                <span class="text-blue-900">月结余</span>
                                <span class="text-xl font-bold text-blue-600" id="monthlySurplus">0</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-purple-50 rounded-lg">
                                <span class="text-purple-900">储蓄率</span>
                                <span class="text-xl font-bold text-purple-600" id="savingsRate">0%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="font-bold mb-4 text-gray-800">支出占比</h3>
                        <canvas id="expensePieChart"></canvas>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="font-bold mb-4 text-gray-800">财务健康度评分</h3>
                        <div class="text-center">
                            <div class="text-5xl font-bold text-blue-600 mb-2" id="financialHealthScore">85</div>
                            <div class="text-gray-600 mb-4">综合评分</div>
                            <div class="space-y-2 text-sm text-left">
                                <div class="flex justify-between">
                                    <span>储蓄率</span>
                                    <span id="scoreSavings">优秀</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>保障充足度</span>
                                    <span id="scoreInsurance">良好</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>债务负担</span>
                                    <span id="scoreDebt">健康</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 投资方案模块 -->
        <section id="investment" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">投资组合配置</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">风险偏好</label>
                            <select id="riskProfile" class="w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="updateInvestmentSuggestion()">
                                <option value="conservative">保守型（年化3-4%）</option>
                                <option value="moderate" selected>稳健型（年化5-6%）</option>
                                <option value="aggressive">进取型（年化7-8%）</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-600 mb-1">预期年化收益率</div>
                                <div class="text-2xl font-bold text-blue-600" id="expectedReturn">5.5%</div>
                            </div>
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <div class="text-sm text-gray-600 mb-1">投资期限</div>
                                <div class="text-2xl font-bold text-blue-600" id="investmentYears">25年</div>
                            </div>
                        </div>

                        <div class="mt-4">
                            <h3 class="font-semibold mb-2">推荐资产配置</h3>
                            <div id="assetAllocation" class="space-y-2">
                                <div class="flex justify-between items-center p-2 bg-blue-50 rounded">
                                    <span>货币基金/存款</span>
                                    <span class="font-bold">30%</span>
                                </div>
                                <div class="flex justify-between items-center p-2 bg-green-50 rounded">
                                    <span>债券/固收</span>
                                    <span class="font-bold">40%</span>
                                </div>
                                <div class="flex justify-between items-center p-2 bg-purple-50 rounded">
                                    <span>股票/基金</span>
                                    <span class="font-bold">30%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">投资收益预测</h2>
                    <canvas id="investmentChart"></canvas>
                    <div class="mt-4 space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">期末总资产预测</span>
                            <span class="font-bold text-lg" id="projectedTotalAssets">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">投资收益总额</span>
                            <span class="font-bold text-green-600" id="totalInvestmentReturn">0</span>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-2 bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">不同投资方案对比</h2>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-2 text-left">投资渠道</th>
                                    <th class="px-4 py-2 text-right">预期年化收益</th>
                                    <th class="px-4 py-2 text-right">风险等级</th>
                                    <th class="px-4 py-2 text-right">流动性</th>
                                    <th class="px-4 py-2 text-center">建议配置比例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b">
                                    <td class="px-4 py-3 font-medium">银行定期存款</td>
                                    <td class="px-4 py-3 text-right">2.5%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-green-100 text-green-800 rounded">低</span></td>
                                    <td class="px-4 py-3 text-right">差</td>
                                    <td class="px-4 py-3 text-center">10-20%</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="px-4 py-3 font-medium">货币基金</td>
                                    <td class="px-4 py-3 text-right">2.0%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-green-100 text-green-800 rounded">低</span></td>
                                    <td class="px-4 py-3 text-right">好</td>
                                    <td class="px-4 py-3 text-center">10-15%</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="px-4 py-3 font-medium">债券基金</td>
                                    <td class="px-4 py-3 text-right">4.0%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded">中</span></td>
                                    <td class="px-4 py-3 text-right">一般</td>
                                    <td class="px-4 py-3 text-center">20-30%</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="px-4 py-3 font-medium">混合基金</td>
                                    <td class="px-4 py-3 text-right">6.0%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-orange-100 text-orange-800 rounded">中高</span></td>
                                    <td class="px-4 py-3 text-right">一般</td>
                                    <td class="px-4 py-3 text-center">20-30%</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="px-4 py-3 font-medium">股票基金</td>
                                    <td class="px-4 py-3 text-right">8.0%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-red-100 text-red-800 rounded">高</span></td>
                                    <td class="px-4 py-3 text-right">好</td>
                                    <td class="px-4 py-3 text-center">10-20%</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium">商业养老保险</td>
                                    <td class="px-4 py-3 text-right">3.5%</td>
                                    <td class="px-4 py-3 text-right"><span class="px-2 py-1 bg-green-100 text-green-800 rounded">低</span></td>
                                    <td class="px-4 py-3 text-right">差</td>
                                    <td class="px-4 py-3 text-center">5-10%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- 财务总览仪表盘 -->
        <section id="dashboard" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white">
                    <div class="text-blue-100 text-sm mb-1">家庭净资产</div>
                    <div class="text-3xl font-bold" id="netWorth">0</div>
                    <div class="text-blue-200 text-sm mt-2">较上月 +2.3%</div>
                </div>
                <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white">
                    <div class="text-green-100 text-sm mb-1">财务目标达成率</div>
                    <div class="text-3xl font-bold" id="goalAchievement">0%</div>
                    <div class="text-green-200 text-sm mt-2">整体进度正常</div>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white">
                    <div class="text-purple-100 text-sm mb-1">紧急备用金</div>
                    <div class="text-3xl font-bold" id="emergencyFund">0</div>
                    <div class="text-purple-200 text-sm mt-2">可支撑 <span id="emergencyMonths">0</span> 个月</div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">财务目标时间轴</h2>
                    <div class="space-y-4" id="goalTimeline">
                        <!-- 动态生成 -->
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold mb-4 text-gray-800">资产配置现状</h2>
                    <canvas id="assetChart"></canvas>
                </div>
            </div>

            <div class="mt-6 bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-bold mb-4 text-gray-800">优化建议</h2>
                <div id="recommendations" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- 动态生成建议 -->
                </div>
            </div>
        </section>

        <!-- 全局参数设置 -->
        <section class="mt-8 bg-white rounded-xl shadow-md p-6">
            <h2 class="text-xl font-bold mb-4 text-gray-800 flex items-center">
                <svg class="w-6 h-6 mr-2 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
                全局参数设置
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">通胀率（%）</label>
                    <input type="number" id="inflationRate" value="3" step="0.1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">投资收益率（%）</label>
                    <input type="number" id="investmentReturn" value="5.5" step="0.1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">工资增长率（%）</label>
                    <input type="number" id="wageGrowth" value="5" step="0.1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">社保缴费比例（%）</label>
                    <input type="number" id="socialSecurityRate" value="28" step="1" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                </div>
            </div>
        </section>
    </main>

    <script>
        // 全局图表实例
        let charts = {};
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('currentDate').textContent = new Date().toLocaleDateString('zh-CN');
            updateChildrenInputs();
            calculateAll();
        });

        // 切换标签页
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(tabName).classList.remove('hidden');
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('tab-active');
                btn.classList.add('text-gray-600');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('tab-active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.remove('text-gray-600');
            
            // 重新渲染图表以适应容器
            setTimeout(() => {
                if (tabName === 'pension' && charts.pension) charts.pension.resize();
                if (tabName === 'education' && charts.education) charts.education.resize();
                if (tabName === 'income' && charts.expense) charts.expense.resize();
                if (tabName === 'investment' && charts.investment) charts.investment.resize();
                if (tabName === 'dashboard' && charts.asset) charts.asset.resize();
            }, 100);
        }

        // 切换配偶信息
        function toggleSpouse() {
            const spouseInfo = document.getElementById('spouseInfo');
            spouseInfo.classList.toggle('hidden');
        }

        // 更新子女输入框
        function updateChildrenInputs() {
            const count = parseInt(document.getElementById('childrenCount').value);
            const container = document.getElementById('childrenAges');
            container.innerHTML = '';
            
            for (let i = 1; i <= count; i++) {
                const div = document.createElement('div');
                div.innerHTML = `
                    <label class="block text-sm font-medium text-gray-700 mb-1">子女${i}年龄</label>
                    <input type="number" id="childAge${i}" value="${i === 1 ? 5 : 3}" class="input-field w-full px-4 py-2 border border-gray-300 rounded-lg" onchange="calculateAll()">
                `;
                container.appendChild(div);
            }
        }

        // 格式化金额
        function formatMoney(num) {
            if (num >= 10000) {
                return (num / 10000).toFixed(1) + '万';
            }
            return num.toFixed(0);
        }

        // 计算所有模块
        function calculateAll() {
            calculatePension();
            calculateEducation();
            calculateIncome();
            calculateInvestment();
            updateDashboard();
        }

        // 养老规划计算
        function calculatePension() {
            const currentAge = parseInt(document.getElementById('primaryAge').value);
            const retireAge = parseInt(document.getElementById('retireAge').value);
            const lifeExpectancy = parseInt(document.getElementById('lifeExpectancy').value);
            const monthlyExpense = parseFloat(document.getElementById('retirementMonthlyExpense').value);
            const inflation = parseFloat(document.getElementById('inflationRate').value) / 100;
            const currentSavings = parseFloat(document.getElementById('currentSavings').value) * 10000;
            const currentInvestment = parseFloat(document.getElementById('currentInvestment').value) * 10000;
            
            const yearsToRetire = retireAge - currentAge;
            const retirementYears = lifeExpectancy - retireAge;
            
            // 计算退休时需要的总金额（考虑通胀）
            const futureMonthlyExpense = monthlyExpense * Math.pow(1 + inflation, yearsToRetire);
            const totalNeeded = futureMonthlyExpense * 12 * retirementYears;
            
            // 社保养老金估算（简化计算）
            const ssBase = parseFloat(document.getElementById('socialSecurityBase').value);
            const ssYears = parseInt(document.getElementById('socialSecurityYears').value);
            const totalSsYears = ssYears + yearsToRetire;
            const avgSalary = ssBase * (1 + Math.pow(1.05, totalSsYears)) / 2; // 假设工资增长
            const estimatedMonthlyPension = (avgSalary * totalSsYears * 0.01) + (ssBase * 0.15); // 简化公式
            const totalSsPension = estimatedMonthlyPension * 12 * retirementYears;
            
            // 缺口计算
            const gap = Math.max(0, totalNeeded - totalSsPension - currentSavings - currentInvestment);
            
            // 更新显示
            document.getElementById('estimatedPension').textContent = Math.round(estimatedMonthlyPension).toLocaleString();
            document.getElementById('replacementRate').textContent = ((estimatedMonthlyPension / (parseFloat(document.getElementById('monthlySalary').value) * Math.pow(1.05, yearsToRetire))) * 100).toFixed(1) + '%';
            document.getElementById('totalPensionNeeded').textContent = '¥' + (totalNeeded / 10000).toFixed(1) + '万';
            document.getElementById('socialSecurityValue').textContent = '¥' + (totalSsPension / 10000).toFixed(1) + '万';
            document.getElementById('pensionGap').textContent = '¥' + (gap / 10000).toFixed(1) + '万';
            
            // 进度条
            const progress = Math.min(100, ((currentSavings + currentInvestment) / totalNeeded * 100));
            document.getElementById('pensionProgress').textContent = progress.toFixed(1) + '%';
            document.getElementById('pensionProgressBar').style.width = progress + '%';
            
            // 绘制图表
            const ctx = document.getElementById('pensionChart').getContext('2d');
            if (charts.pension) charts.pension.destroy();
            
            charts.pension = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['已有储蓄', '社保养老金', '资金缺口'],
                    datasets: [{
                        data: [currentSavings + currentInvestment, totalSsPension, gap],
                        backgroundColor: ['#10B981', '#3B82F6', '#EF4444']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        // 教育规划计算
        function calculateEducation() {
            const count = parseInt(document.getElementById('childrenCount').value);
            const eduInflation = parseFloat(document.getElementById('educationInflation').value) / 100;
            
            const stages = [
                { name: '幼儿园', years: 3, cost: parseFloat(document.getElementById('eduKindergarten').value) },
                { name: '小学', years: 6, cost: parseFloat(document.getElementById('eduPrimary').value) },
                { name: '中学', years: 6, cost: parseFloat(document.getElementById('eduMiddle').value) },
                { name: '大学', years: 4, cost: parseFloat(document.getElementById('eduCollege').value) }
            ];
            
            let totalCost = 0;
            const summaryDiv = document.getElementById('educationSummary');
            summaryDiv.innerHTML = '';
            
            const childData = [];
            
            for (let i = 1; i <= count; i++) {
                const age = parseInt(document.getElementById(`childAge${i}`).value);
                let childCost = 0;
                let currentAge = age;
                
                stages.forEach(stage => {
                    const futureCost = stage.cost * Math.pow(1 + eduInflation, currentAge - age);
                    childCost += futureCost * stage.years;
                    currentAge += stage.years;
                });
                
                totalCost += childCost;
                
                const div = document.createElement('div');
                div.className = 'p-4 bg-gray-50 rounded-lg';
                div.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-semibold">子女${i}（当前${age}岁）</span>
                        <span class="text-blue-600 font-bold">¥${childCost.toFixed(1)}万</span>
                    </div>
                    <div class="text-sm text-gray-600">预计大学毕业年龄：${age + 19}岁</div>
                `;
                summaryDiv.appendChild(div);
                
                childData.push(childCost);
            }
            
            const yearsToCollege = count > 0 ? (18 - parseInt(document.getElementById('childAge1').value)) : 0;
            const monthlySaving = yearsToCollege > 0 ? (totalCost * 10000) / (yearsToCollege * 12) : 0;
            
            document.getElementById('totalEducationCost').textContent = '¥' + totalCost.toFixed(1) + '万';
            document.getElementById('monthlyEducationSaving').textContent = Math.round(monthlySaving).toLocaleString();
            
            // 教育图表
            const ctx = document.getElementById('educationChart').getContext('2d');
            if (charts.education) charts.education.destroy();
            
            if (count > 0) {
                charts.education = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: Array.from({length: count}, (_, i) => `子女${i+1}`),
                        datasets: [{
                            label: '教育资金需求（万元）',
                            data: childData,
                            backgroundColor: '#8B5CF6'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: { beginAtZero: true }
                        }
                    }
                });
            }
        }

        // 收入分析计算
        function calculateIncome() {
            const salary = parseFloat(document.getElementById('monthlySalary').value);
            const spouseSalary = document.getElementById('hasSpouse').checked ? parseFloat(document.getElementById('spouseSalary').value) : 0;
            const living = parseFloat(document.getElementById('monthlyLivingExpense').value);
            const elderly = parseFloat(document.getElementById('monthlyElderlyExpense').value);
            const education = parseFloat(document.getElementById('monthlyEducationSaving').textContent.replace(/,/g, '')) || 0;
            
            const totalIncome = salary + spouseSalary;
            const totalExpense = living + elderly + education;
            const surplus = totalIncome - totalExpense;
            const savingsRate = (surplus / totalIncome * 100).toFixed(1);
            
            document.getElementById('totalMonthlyIncome').textContent = '¥' + totalIncome.toLocaleString();
            document.getElementById('totalMonthlyExpense').textContent = '¥' + totalExpense.toLocaleString();
            document.getElementById('monthlySurplus').textContent = '¥' + surplus.toLocaleString();
            document.getElementById('savingsRate').textContent = savingsRate + '%';
            
            // 支出图表
            const ctx = document.getElementById('expenseChart').getContext('2d');
            if (charts.expense) charts.expense.destroy();
            
            charts.expense = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['收入', '支出', '结余'],
                    datasets: [{
                        label: '金额（元）',
                        data: [totalIncome, totalExpense, surplus],
                        backgroundColor: ['#10B981', '#EF4444', '#3B82F6']
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
            
            // 饼图
            const ctxPie = document.getElementById('expensePieChart').getContext('2d');
            if (charts.expensePie) charts.expensePie.destroy();
            
            charts.expensePie = new Chart(ctxPie, {
                type: 'pie',
                data: {
                    labels: ['生活开支', '赡养老人', '教育储备', '结余'],
                    datasets: [{
                        data: [living, elderly, education, surplus],
                        backgroundColor: ['#F59E0B', '#EF4444', '#8B5CF6', '#10B981']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
            
            // 财务健康评分
            let score = 70;
            if (savingsRate > 30) score += 15;
            else if (savingsRate > 20) score += 10;
            else if (savingsRate > 10) score += 5;
            
            if (surplus > 5000) score += 10;
            
            document.getElementById('financialHealthScore').textContent = Math.min(100, score);
            document.getElementById('scoreSavings').textContent = savingsRate > 20 ? '优秀' : savingsRate > 10 ? '良好' : '需改善';
        }

        // 投资方案计算
        function calculateInvestment() {
            const risk = document.getElementById('riskProfile').value;
            const returns = { conservative: 3.5, moderate: 5.5, aggressive: 7.5 };
            const returnRate = returns[risk];
            
            document.getElementById('expectedReturn').textContent = returnRate + '%';
            
            const currentAge = parseInt(document.getElementById('primaryAge').value);
            const retireAge = parseInt(document.getElementById('retireAge').value);
            const years = retireAge - currentAge;
            document.getElementById('investmentYears').textContent = years + '年';
            
            const monthlyInvest = parseFloat(document.getElementById('monthlySurplus').textContent.replace(/[¥,]/g, '')) || 5000;
            const currentAssets = (parseFloat(document.getElementById('currentSavings').value) + parseFloat(document.getElementById('currentInvestment').value)) * 10000;
            
            // 复利计算
            const monthlyRate = returnRate / 100 / 12;
            const months = years * 12;
            const futureValue = currentAssets * Math.pow(1 + monthlyRate, months) + 
                               monthlyInvest * (Math.pow(1 + monthlyRate, months) - 1) / monthlyRate;
            
            const totalInvested = currentAssets + monthlyInvest * months;
            const investmentReturn = futureValue - totalInvested;
            
            document.getElementById('projectedTotalAssets').textContent = '¥' + (futureValue / 10000).toFixed(1) + '万';
            document.getElementById('totalInvestmentReturn').textContent = '¥' + (investmentReturn / 10000).toFixed(1) + '万';
            
            // 投资增长图表
            const ctx = document.getElementById('investmentChart').getContext('2d');
            if (charts.investment) charts.investment.destroy();
            
            const labels = [];
            const data = [];
            for (let i = 0; i <= years; i += 5) {
                labels.push(currentAge + i + '岁');
                const m = i * 12;
                const val = currentAssets * Math.pow(1 + monthlyRate, m) + 
                           monthlyInvest * (Math.pow(1 + monthlyRate, m) - 1) / monthlyRate;
                data.push(val / 10000);
            }
            
            charts.investment = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '资产总额（万元）',
                        data: data,
                        borderColor: '#3B82F6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        // 更新投资建议
        function updateInvestmentSuggestion() {
            const risk = document.getElementById('riskProfile').value;
            const allocations = {
                conservative: [
                    { name: '货币基金/存款', rate: '40%', color: 'bg-blue-50' },
                    { name: '债券/固收', rate: '45%', color: 'bg-green-50' },
                    { name: '股票/基金', rate: '15%', color: 'bg-purple-50' }
                ],
                moderate: [
                    { name: '货币基金/存款', rate: '25%', color: 'bg-blue-50' },
                    { name: '债券/固收', rate: '35%', color: 'bg-green-50' },
                    { name: '股票/基金', rate: '40%', color: 'bg-purple-50' }
                ],
                aggressive: [
                    { name: '货币基金/存款', rate: '10%', color: 'bg-blue-50' },
                    { name: '债券/固收', rate: '20%', color: 'bg-green-50' },
                    { name: '股票/基金', rate: '70%', color: 'bg-purple-50' }
                ]
            };
            
            const container = document.getElementById('assetAllocation');
            container.innerHTML = '';
            allocations[risk].forEach(item => {
                const div = document.createElement('div');
                div.className = `flex justify-between items-center p-2 ${item.color} rounded`;
                div.innerHTML = `
                    <span>${item.name}</span>
                    <span class="font-bold">${item.rate}</span>
                `;
                container.appendChild(div);
            });
            
            calculateInvestment();
        }

        // 更新仪表盘
        function updateDashboard() {
            const savings = parseFloat(document.getElementById('currentSavings').value) * 10000;
            const investment = parseFloat(document.getElementById('currentInvestment').value) * 10000;
            const netWorth = savings + investment;
            
            document.getElementById('netWorth').textContent = '¥' + (netWorth / 10000).toFixed(1) + '万';
            
            // 紧急备用金（假设6个月支出）
            const monthlyExpense = parseFloat(document.getElementById('totalMonthlyExpense').textContent.replace(/[¥,]/g, '')) || 10000;
            const emergencyFund = netWorth * 0.2; // 假设20%为流动资金
            const months = Math.floor(emergencyFund / monthlyExpense);
            
            document.getElementById('emergencyFund').textContent = '¥' + (emergencyFund / 10000).toFixed(1) + '万';
            document.getElementById('emergencyMonths').textContent = months;
            
            // 目标达成率
            const pensionGap = parseFloat(document.getElementById('pensionGap').textContent.replace(/[¥万]/g, '')) * 10000;
            const totalPensionNeeded = parseFloat(document.getElementById('totalPensionNeeded').textContent.replace(/[¥万]/g, '')) * 10000;
            const pensionProgress = ((totalPensionNeeded - pensionGap) / totalPensionNeeded * 100);
            
            document.getElementById('goalAchievement').textContent = pensionProgress.toFixed(0) + '%';
            
            // 时间轴
            const currentAge = parseInt(document.getElementById('primaryAge').value);
            const retireAge = parseInt(document.getElementById('retireAge').value);
            const timeline = document.getElementById('goalTimeline');
            timeline.innerHTML = `
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold">${currentAge}</div>
                    <div class="flex-1">
                        <div class="font-semibold">当前阶段</div>
                        <div class="text-sm text-gray-600">财富积累期，重点：提升收入，控制支出</div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold">${retireAge}</div>
                    <div class="flex-1">
                        <div class="font-semibold">退休目标</div>
                        <div class="text-sm text-gray-600">实现财务自由，开始领取养老金</div>
                    </div>
                </div>
            `;
            
            // 资产配置图
            const ctx = document.getElementById('assetChart').getContext('2d');
            if (charts.asset) charts.asset.destroy();
            
            charts.asset = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['储蓄', '投资', '应急资金'],
                    datasets: [{
                        data: [savings * 0.3, investment, savings * 0.5],
                        backgroundColor: ['#3B82F6', '#10B981', '#F59E0B']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
            
            // 建议
            const recommendations = document.getElementById('recommendations');
            const surplus = parseFloat(document.getElementById('monthlySurplus').textContent.replace(/[¥,]/g, '')) || 0;
            
            let recs = [];
            if (pensionGap > 0) {
                recs.push({ title: '养老金缺口警示', desc: `您目前存在¥${(pensionGap/10000).toFixed(1)}万的养老金缺口，建议增加商业养老保险配置。`, color: 'red' });
            }
            if (surplus < 3000) {
                recs.push({ title: '储蓄率偏低', desc: '当前月结余较少，建议审查支出结构，减少非必要消费。', color: 'yellow' });
            }
            if (months < 6) {
                recs.push({ title: '应急资金不足', desc: `当前应急资金仅可支撑${months}个月，建议储备至少6个月生活费。`, color: 'orange' });
            }
            if (recs.length === 0) {
                recs.push({ title: '财务状况良好', desc: '您的财务规划较为完善，建议定期复查并适时调整投资组合。', color: 'green' });
            }
            
            recommendations.innerHTML = recs.map(rec => `
                <div class="p-4 bg-${rec.color}-50 border-l-4 border-${rec.color}-500 rounded-r-lg">
                    <div class="font-semibold text-${rec.color}-900 mb-1">${rec.title}</div>
                    <div class="text-sm text-${rec.color}-800">${rec.desc}</div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>